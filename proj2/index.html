<html>
	<head>
	</head>
	<body>
		<h1> Overview </h1>
		<p> In this project, I explore ways of drawing curves graphically. We begin by exploring bezier surfaces, which allow us to draw smooth curves that satisfy some nice properties. Then, we explore triangular mesh rendering, where we implement algorithms to calculate vertex normals for shading, as well as implement loop subdivision via edge splitting and flipping. Completing this project enabled me to think about the challenges with computational geometry: managing to maintain realism and flexibility while also managing computational complexity.
		</p>
		<h1> Part 1 </h1>
		<p> De Casteljau's algorithm is a recursive algorithm to compute an n-th degree bezier curve by repeatedly interpolating neihbouring points at some parameter value. We implemented it one step of the algorithm for a given parameter t and called this function until we were left with one point.
			<div align="middle">
	  <table style="width=100%">
	    <tr>
	      <td>
	        <img src="img/p1_0.png" align="middle" width="250px"/>
	        <figcaption align="middle">degree 0</figcaption>
	      </td>
	      <td>
	        <img src="img/p1_1.png" align="middle" width="250px"/>
	        <figcaption align="middle">degree 1</figcaption>
	      </td>
				<td>
					<img src="img/p1_2.png" align="middle" width="250px"/>
	        <figcaption align="middle">degree 2</figcaption>
				</td>
	    </tr>
	    <br>
	    <tr>
	      <td>
	        <img src="img/p1_3.png" align="middle" width="250px"/>
	        <figcaption align="middle">degree 3</figcaption>
	      </td>
	      <td>
	        <img src="img/p1_4.png" align="middle" width="250px"/>
	        <figcaption align="middle">degree 4</figcaption>
	      </td>
				<td>
	        <img src="img/p1_5.png" align="middle" width="250px"/>
	        <figcaption align="middle">degree 5</figcaption>
	      </td>
	    </tr>
			<tr>
				<td>
					<img src="img/p1_6.png" align="middle" width="250px"/>
					<figcaption align="middle">smooth curve</figcaption>
				</td>
				<td>
					<img src="img/p1_7.png" align="middle" width="250px"/>
					<figcaption align="middle">modified curve</figcaption>
				</td>
			</tr>
	  </table>
	</div>
	<h1> Part 2 </h1>
	<p> We can use the same principal and apply bezier curves to surfaces by applying De Casteljau's algorithm over one axis under one parameter, then using the points generated by the outputs to create another curve under a different parameter. </p>
	<img src="img/p2.png" align="middle" width="400px"/>
	<h1> Part 3 </h1>
	<p> We implemented area weighted vertex normals by traversing the neighbouring faces to find their unnormalized normal vectors, calculated using cross product so as to be proportional to area, summing over these normal vectors, then normalizing.
	<img src="img/p3_1.png" align="middle" width="400px"/>
	<img src="img/p3_2.png" align="middle" width="400px"/>
	<h1> Part 4 </h1>
	<p> I implemeted edge flip by symmetrically treating each non-boundary edge as an edge connecting two triangles with vertices labelled a through d. Then, I wrote down all the objects related to these triangles before and after the edge flip. I scribed this into code to implement edge flip. I didn't use any fancy debugging, since I was quite systematic with my implementation so I could cross check everything with my writen down version. </p>
	<img src="img/p4_1.png" align="middle" width="400px"/>
	<img src="img/p4_2.png" align="middle" width="400px"/>
	<h1> Part 5 </h1>
	<p> As before, I implemented edge split by considering the canonical case with vertices labelled a through d and a new vertex e. I wrote down all the objects before and after the flip. If any objects changed, I updated them in the code, and if I needed to make any new objects (say, the two new faces or new edges) I created them. This was a little harder to debug, but I used print statements throughout my implementation to find where the bug was. </p>
	<img src="img/p4_1.png" align="middle" width="400px"/>
	<img src="img/p5_1.png" align="middle" width="400px"/>
	<img src="img/p5_2.png" align="middle" width="400px"/>
	<h1> Part 6 </h1>
	<p>
	I implemented the loop subdivision as suggested in the spec. First, I computed the new vertex positions for all the old vertices. Then, I computed the new vertex positions for the new vertices. Then, I split the required edges followed by flipping them as required. Finally, I copied the new vertex positions over to the actual positions and cleared any edge or vertex flags I might have updated. I found this to be the most difficult part to debug, but since it was sequential, I could comment out different parts of the code to isolate the bugs. </p>
	<p> Sharp corners and edges get dulled as we subdivide more and more because of the weighted averaging we do. To avoid this, we can further split the edges prior to subdivision. Additionally, since the original mesh is not symmetric around the cube, when it is subdivided, the mesh is also asymmetric. We can curb this issue by splitting and flipping faces so that cube faces are symmetric at every level. Below, we have done both. </p>
	<div align="middle">
<table style="width=100%">
	<tr>
		<td>
			<img src="img/p6_1.png" align="middle" width="400px"/>
			<figcaption align="middle">Original mesh (less detailed + assymmetric)</figcaption>
		</td>
		<td>
			<img src="img/p6_2.png" align="middle" width="400px"/>
			<figcaption align="middle">3 rounds of upsampling</figcaption>
		</td>
	</tr>
	<br>
	<tr>
		<td>
			<img src="img/p6_3.png" align="middle" width="400px"/>
			<figcaption align="middle">Manually split mesh (more detailed + symmetric)</figcaption>
		</td>
		<td>
			<img src="img/p6_4.png" align="middle" width="400px"/>
			<figcaption align="middle">3 rounds of upsampling</figcaption>
		</td>
	</tr>
</table>
</div>
<p> Link to webpage: https://cal-cs184-student.github.io/sp22-project-webpages-Aekus/ </p>
	</body>
</html>
